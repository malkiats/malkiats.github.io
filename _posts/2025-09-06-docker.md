---
title: Docker for DevOps Engineers - A Practical Guide
date: 2025-09-06 12:00:00 -0500
categories: [Docker, docker-compose]
tags: [k8s, container, docker, docker-swarm, Orchestration]
---

# 🚀 Docker Guide

Docker has become the backbone of modern application deployment and DevOps practices. It enables developers and operations teams to **package, ship, and run applications consistently** across environments.  

Docker allows us to build, ship, and run applications in lightweight containers.  
This post serves as a **practical cheat sheet** for Docker installation, configuration, and common usage patterns.

---

## 🐳 What is Docker?
Docker is a **containerization platform** that allows you to:
- Package applications and dependencies into lightweight containers.  
- Ensure consistent environments across dev, staging, and production.  
- Improve resource utilization compared to virtual machines.  

---

## 🔧 Docker Installation (CentOS/RHEL)

```bash
# Install yum-utils
yum install -y yum-utils

# Add Docker repo
yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo

# Enable Docker repo
yum-config-manager --enable docker-ce-nightly

# Test repo
yum-config-manager --enable docker-ce-test

# Disable repo
yum-config-manager --disable docker-ce-nightly

# Install Docker packages
yum install -y docker-ce docker-ce-cli containerd.io

# Start Docker service
systemctl start docker
systemctl enable docker

# Test installation
docker run hello-world
```

---

## ⚡ Install Docker Compose

```bash
curl -L "https://github.com/docker/compose/releases/download/1.26.2/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
chmod +x /usr/local/bin/docker-compose
ln -s /usr/local/bin/docker-compose /usr/bin/docker-compose
docker-compose --version
```

Run:
```bash
mv Dockerfile docker-compose.yml
docker-compose up -d
docker images
```

---

## 🏗️ Build & Run Jenkins Example

### Build image
```bash
docker build -t jenkins-test1 .
```

### Create directory for Jenkins data
```bash
mkdir -p /docker/jenkins/home_jenkins
```

### Run Jenkins
```bash
docker run -d --name jekins-docker -p 8080:8080 -p 50000:50000   -v /docker/jenkins/home_jenkins:/var/jenkins_home jenkins-test1

docker run -u 0 -d --name jenkinst1 -p 8080:8080 -p 50000:50000   -v /jenkins-data/jenkins_home:/var/jenkins_home jenkins/jenkins

docker run -d --name jenkins-svr -p 8080:8080 -p 50000:50000   -v /docker/jenkins:/var/jenkins_home dockerfile
```

---

## 🔄 Restart Policies

### Always restart unless explicitly stopped
```bash
docker run -d --restart unless-stopped redis
```

### Update existing container restart policy
```bash
docker update --restart unless-stopped redis
```

### Apply to all running containers
```bash
docker update --restart unless-stopped $(docker ps -q)
```

---

## 🧹 Cleanup Commands

```bash
# Kill all running containers
docker kill $(docker ps -q)

# Remove all stopped containers
docker rm $(docker ps -a -q)

# Remove all images
docker rmi $(docker images -q)

# Remove stopped containers only
docker container prune
```

---

## 📌 Common Docker Commands

### Run container
```bash
docker run nginx
docker run -it alpine /bin/bash
```

### Check container IP
```bash
docker inspect -f '{{range.NetworkSettings.Networks}}{{.IPAddress}}{{end}}' <container_id>
```

### Networking
```bash
docker run ubuntu                # bridge
docker run ubuntu --network=none # none
docker run ubuntu --network=host # host
```

### Login as root inside container
```bash
docker exec -u 0 -it jenkins bash
```

### Copy files
```bash
docker cp script.sh shub_jenkins_1:/tmp/script.sh
```

---

## 📊 Container Management

### List containers
```bash
docker ps
docker ps -a
```

### Stop & remove
```bash
docker stop <container_id>
docker rm <container_id>
```

### Remove multiple containers
```bash
docker rm ccd 045 952 54f
```

---

## 🖼️ Image Management

### List images
```bash
docker images
```

### Remove image
```bash
docker rmi nginx
docker rmi centos
```

### Pull images
```bash
docker pull ubuntu
docker run nginx
docker run ubuntu sleep 5
```

---

## ⚙️ Exec Commands

```bash
docker exec <container_id> cat /etc/hosts
docker exec <container_id> cat /etc/*release*
```

---

## 🌐 Port Mapping Example

```bash
docker run -p 3306:3306 mysql
```

---

## 📚 Resources

- 🔗 [Docker Hub Explore](https://hub.docker.com/explore)  
- 🔗 [Official Docker Images](https://hub.docker.com/search?image_filter=official&type=image)  
- 🔗 [Docker Docs](https://docs.docker.com/)  

---

✨ *With Docker, you can containerize your ideas and run them anywhere.*

